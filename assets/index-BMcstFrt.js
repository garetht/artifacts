var E0=Object.defineProperty;var I0=(f,e,t)=>e in f?E0(f,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):f[e]=t;var r=(f,e,t)=>I0(f,typeof e!="symbol"?e+"":e,t);function E(f,e){const t=p();return E=function(x,o){return x=x-251,t[x]},E(f,e)}(function(f,e){const t=E,x=f();for(;;)try{if(-parseInt(t(268))/1*(parseInt(t(251))/2)+parseInt(t(255))/3+-parseInt(t(283))/4+-parseInt(t(291))/5*(parseInt(t(289))/6)+-parseInt(t(260))/7*(-parseInt(t(293))/8)+-parseInt(t(280))/9+parseInt(t(287))/10*(parseInt(t(281))/11)===e)break;x.push(x.shift())}catch{x.push(x.shift())}})(p,499902),function(){const e=E,t=function(){let n=!0;return function(a,c){const l=n?function(){const _=E;if(c){const I=c[_(273)](a,arguments);return c=null,I}}:function(){};return n=!1,l}}(),x=document[e(274)]("link").relList;if(x&&x[e(261)]&&x.supports(e(254)))return;for(const n of document[e(277)](e(285)))s(n);new MutationObserver(n=>{const a=e;for(const c of n)if(c[a(292)]===a(253))for(const l of c[a(259)])l[a(270)]==="LINK"&&l[a(288)]===a(254)&&s(l)})[e(282)](document,{childList:!0,subtree:!0});function o(n){const a=e,c={};return n[a(275)]&&(c[a(275)]=n.integrity),n.referrerPolicy&&(c[a(284)]=n[a(284)]),n.crossOrigin==="use-credentials"?c[a(278)]=a(269):n[a(276)]===a(267)?c.credentials=a(279):c[a(278)]="same-origin",c}function s(n){if(function(){t(this,function(){const c=E,l=new RegExp(c(258)),_=new RegExp(c(263),"i"),I=m(c(290));!l[c(257)](I+c(256))||!_[c(257)](I+"input")?I("0"):m()})()}(),n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}}();function m(f){function e(t){const x=E;if(typeof t===x(271))return(function(o){})[x(264)](x(286))[x(273)]("counter");(""+t/t)[x(266)]!==1||t%20===0?(function(){return!0})[x(264)]("debu"+x(262))[x(252)](x(272)):(function(){return!1})[x(264)](x(265)+x(262))[x(273)]("stateObject"),e(++t)}try{if(f)return e;e(0)}catch{}}function p(){const f=["test","function *\\( *\\)","addedNodes","133oISseV","supports","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","debu","length","anonymous","2phwfHL","include","tagName","string","action","apply","createElement","integrity","crossOrigin","querySelectorAll","credentials","omit","942129SXNXFM","33275sXlTHT","observe","3344904caJxwV","referrerPolicy",'link[rel="modulepreload"]',"while (true) {}","5150hutjhG","rel","625014eyxLLs","init","20MzlXWf","type","114976GzQyFp","496824RSCwpS","call","childList","modulepreload","1570098uPUUya","chain"];return p=function(){return f},p()}const g0="/these-invaders/assets/invader-open-DTYKJ1Lt.svg",p0="/these-invaders/assets/invader-closed-Ca6SJSh8.svg",y0="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20enable-background='new%200%200%20100%20100'%20xml:space='preserve'%3e%3crect%20x='7.043'%20y='44.38'%20fill='%23FFFFFF'%20width='24.818'%20height='12.405'/%3e%3crect%20x='7.043'%20y='7.156'%20fill='%23FFFFFF'%20width='12.409'%20height='12.408'/%3e%3crect%20x='19.452'%20y='19.564'%20fill='%23FFFFFF'%20width='12.409'%20height='12.405'/%3e%3crect%20x='44.269'%20y='69.214'%20fill='%23FFFFFF'%20width='12.409'%20height='24.82'/%3e%3crect%20x='69.104'%20y='44.38'%20fill='%23FFFFFF'%20width='24.818'%20height='12.405'/%3e%3crect%20x='44.269'%20y='7.156'%20fill='%23FFFFFF'%20width='12.409'%20height='24.813'/%3e%3crect%20x='81.514'%20y='7.156'%20fill='%23FFFFFF'%20width='12.409'%20height='12.408'/%3e%3crect%20x='69.104'%20y='19.564'%20fill='%23FFFFFF'%20width='12.409'%20height='12.405'/%3e%3crect%20x='7.043'%20y='81.619'%20fill='%23FFFFFF'%20width='12.409'%20height='12.415'/%3e%3crect%20x='19.452'%20y='69.214'%20fill='%23FFFFFF'%20width='12.409'%20height='12.405'/%3e%3crect%20x='81.514'%20y='81.619'%20fill='%23FFFFFF'%20width='12.409'%20height='12.415'/%3e%3crect%20x='69.104'%20y='69.214'%20fill='%23FFFFFF'%20width='12.409'%20height='12.405'/%3e%3c/svg%3e",m0="data:image/svg+xml,%3csvg%20width='4'%20height='25'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='4'%20height='25'%20fill='white'/%3e%3c/svg%3e",F0="/these-invaders/assets/player-BOyU4ID-.svg",R0="/these-invaders/assets/logo-DUE_sL7p.svg",i=u;function y(){const f=["gger","key","alive","INVADER_SIZE","LOGO_ASPECT_RATIO","INVADER_ADDITIONAL_HITBOX_SIZE","frames","string","onFire","input","PLAYER_SPEED","test","pop","spaceInvaders","cyclePosition","canvas","code","anyAlive","6609GCfzkK","animationFrameId","translationFromOrigin","RelativePoint","constructor","INVADER_PADDING","moveTo","paddedInvaderSize","zero","runGameLoop","fillText","4611824dRbzuO","9886NfeogN","push","intersects","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","79heJSLo","savedTranslatingStates","apply","player","size","rect","game","stroke","position","AbsolutePoint","render","resize","logoTranslation","add","GAME_BORDER_WIDTH","invadersRectangleSize","fillStyle","12kVrzjS","invadersPerRow","createFromPositionAndSize","src","onGameOver","drawImage","absolutePosition","beatQuantizedFloatTick","1308mwpEIz","max","PROJECTILE_SPEED","chain","fill","min","lastQuantizedMovementTick","invaderBlock","font","context","RECOGNIZED_CONTROL_KEYS","save","QUANTIZED_MOVEMENT_TICK_DURATION","projectiles","forEach","BoundingBox","width","function *\\( *\\)","getContext","set","558565yAwFlv","calculateFreeSpace","beatQuantizedIntegerTick","projectile","INVADER_BLOCK_PADDING_PERCENTAGE","lineTo","originPosition","882EsIhZn","state","ArrowLeft","image","1843632lQRFuO","stateObject","keyup","get","onCollide","height","logoHeader","filter","ENABLE_DEBUG_ABSOLUTE_POSITION_LOGGING","renderWithTranslation","directionMultiplier","restore","call","floor","lineWidth","round","fillRect","addEventListener","invaders","gameTimestamp","update","gameIsOver","length","ArrowRight","white","possiblyCollideWith","from","map","while (true) {}","22559328tREBfz","dead","isTranslating","DIVIDER_THICKNESS","invader","getElementById","action","logo","clearRect","PLAYER_SIZE","_isTranslating","activeKeys","debu","INVADER_SPEED","INVADERS_PER_COLUMN","strokeStyle","innerHeight","currentAnimationFrame","PROJECTILE_SIZE","some","playerTranslation","invaderBlockTranslation","translate","cannot translate by an absolute amount if a relative translation is already in place","48170nbndTO","beginPath","counter","startGame"];return y=function(){return f},y()}(function(f,e){const t=u,x=f();for(;;)try{if(parseInt(t(520))/1*(-parseInt(t(516))/2)+parseInt(t(504))/3*(-parseInt(t(545))/4)+-parseInt(t(565))/5*(-parseInt(t(537))/6)+parseInt(t(576))/7+-parseInt(t(515))/8+parseInt(t(572))/9*(-parseInt(t(482))/10)+parseInt(t(605))/11===e)break;x.push(x.shift())}catch{x.push(x.shift())}})(y,378228);const A0=function(){let f=!0;return function(e,t){const x=f?function(){if(t){const o=t.apply(e,arguments);return t=null,o}}:function(){};return f=!1,x}}();(function(){A0(this,function(){const f=u,e=new RegExp(f(562)),t=new RegExp(f(519),"i"),x=A("init");!e[f(497)](x+f(548))||!t[f(497)](x+f(495))?x("0"):A()})()})();function u(f,e){const t=y();return u=function(x,o){return x=x-481,t[x]},u(f,e)}var g;(f=>{const e=u;class t{constructor(n,a,c,l){r(this,"x1");r(this,"y1");r(this,"x2");r(this,"y2");this.x1=n,this.y1=a,this.x2=c,this.y2=l}static[e(539)](n,a){return new t(n.x,n.y,n.x+a.w,n.y+a.h)}[e(518)](n){return n.x1<=this.x2&&n.x2>=this.x1&&n.y1<=this.y2&&n.y2>=this.y1}}f[e(560)]=t;class x{constructor({x:n,y:a}){r(this,"x");r(this,"y");this.x=n,this.y=a}[e(533)](n){return new x({x:this.x+n.x,y:this.y+n.y})}}f.RelativePoint=x;class o{constructor({x:n,y:a}){r(this,"x");r(this,"y");this.x=n,this.y=a}[e(533)](n){return new o({x:this.x+n.x,y:this.y+n.y})}}f.AbsolutePoint=o})(g||(g={}));const F=g[i(560)],w=g[i(529)],d=g[i(507)];var T,v,O;class T0{constructor(e){r(this,O,!1);r(this,v,[]);r(this,T);const t=i;this[t(554)]=e}set[(O=i(615),v=i(521),T=i(554),i(590))](e){this.context.lineWidth=e}set[i(620)](e){const t=i;this.context[t(620)]=e}beginPath(){const e=i;this[e(554)][e(483)]()}stroke(){this[i(554)].stroke()}[i(549)](e){const t=i;this[t(554)][t(549)](e)}get[i(607)](){return this._isTranslating}set[i(607)](e){const t=i;this[t(615)]=e}[i(613)](e,t,x,o){const s=i;this[s(554)][s(613)](e,t,x,o),this[s(554)][s(536)]="#101010",this.context[s(592)](e,t,x,o)}[i(556)](){const e=i;this[e(521)][e(517)](this[e(607)]),this[e(554)][e(556)]()}[i(587)](){const e=i;this[e(554)].restore(),this[e(607)]=this[e(521)][e(498)]()??!1}[i(627)](e,t){const x=i;this[x(607)]=!0,this[x(554)][x(627)](e,t)}[i(510)](e,t){this[i(554)].moveTo(e,t)}[i(570)](e,t){const x=i;this[x(554)][x(570)](e,t)}[i(542)](e,t,x,o){const s=i;this[s(554)][s(542)](e,x.x,x.y,o.w,o.h),h[s(584)]&&(this[s(554)][s(553)]="10px Arial",this.context.fillStyle=s(600),this.context[s(514)](Math.round(t.x)+", "+Math[s(591)](t.y),x.x+o.w+2,x.y+o.h+2))}[i(585)](e,t){const x=i;if(e instanceof w){if(this[x(607)])throw new Error(x(481));this[x(556)](),this[x(627)](e.x,e.y)}else this[x(556)](),this.translate(e.x,e.y);t(),this[x(587)]()}}var D,N;N=i(567),D=i(544);class R{constructor(e){r(this,N);r(this,D);const t=i;this.beatQuantizedIntegerTick=Math[t(589)](e/h.QUANTIZED_MOVEMENT_TICK_DURATION),this[t(544)]=e/h[t(557)]}}const h={INVADER_SIZE:{w:50,h:50},PLAYER_SIZE:{w:50,h:50},LOGO_ASPECT_RATIO:{w:31,h:13},DIVIDER_THICKNESS:2,INVADER_ADDITIONAL_HITBOX_SIZE:{w:5,h:5},INVADER_PADDING:20,INVADER_BLOCK_PADDING_PERCENTAGE:.04,INVADERS_PER_COLUMN:5,INVADER_ROW_DENSITY:.7,QUANTIZED_MOVEMENT_TICK_DURATION:666.66,BEATS_PER_BAR:4,SPACE_HOLD_SIZE_LENIENCY:.18,BEAT_ACCURACY_LENIENCY:.18,RHYTHM_INDICATOR_INNER_CIRCLE_RADIUS:50,RHYTHM_INDICATOR_OUTER_CIRCLE_RADIUS:80,RHYTHM_INDICATOR_PULSE_STROKE_WIDTH:5,INVADER_SPEED:10,PLAYER_SPEED:4,RECOGNIZED_CONTROL_KEYS:[i(574),"ArrowRight"],PROJECTILE_SPEED:15,PROJECTILE_SIZE:{w:4,h:30},ENABLE_DEBUG_ABSOLUTE_POSITION_LOGGING:!1,GAME_BORDER_WIDTH:4};var b,S,P,C,L;class v0{constructor(e,t){r(this,L);r(this,C);r(this,P);r(this,S);r(this,b);const x=i;this.translationFromOrigin=e,this[x(528)]=new d({x:0,y:0}),this[x(524)]=t;const o=this[x(524)].h*.73,s=o/h.LOGO_ASPECT_RATIO.h*h[x(490)].w;this.logoTranslation=new d({x:this[x(524)].w/2-s/2,y:this.size.h/2-o/2}),this[x(612)]=new O0(e,{w:s,h:o})}get absolutePosition(){const e=i;return this[e(506)][e(533)](this[e(528)])}[(L=i(528),C=i(506),P=i(612),S=i(524),b=i(532),i(530))](e){const t=i;e[t(620)]=t(600),e[t(590)]=h[t(608)],e.beginPath(),e[t(510)](0,this[t(524)].h-h[t(608)]),e[t(570)](this.size.w,this[t(524)].h-h.DIVIDER_THICKNESS),e[t(527)](),e[t(585)](this[t(532)],()=>{const x=t;this[x(612)][x(530)](e)})}}var G,z,M,B;class O0{constructor(e,t){r(this,B);r(this,M);r(this,z);r(this,G);const x=i;this[x(506)]=e,this[x(575)]=new Image,this[x(575)][x(540)]=R0,this.size=t,this[x(528)]=new d({x:0,y:0})}get[(B=i(575),M=i(506),z=i(528),G=i(524),i(543))](){const e=i;return this[e(506)][e(533)](this.position)}[i(530)](e){const t=i;e[t(542)](this[t(575)],this[t(543)],this.position,this.size)}}var k,V,H,Z,U;class D0{constructor(e,t){r(this,U);r(this,"position");r(this,Z);r(this,H);r(this,V);r(this,k);const x=i;this.frames=e.map(s=>{const n=new Image;return n.src=s,n});const o=this[x(492)].at(0);if(o===void 0)throw new Error("No frames provided");this.position=new d({x:0,y:0}),this.translationFromOrigin=t,this[x(524)]=h[x(489)],this.currentAnimationFrame=o,this[x(573)]=x(488)}get[(U=i(492),Z=i(524),H=i(506),V=i(573),k=i(622),i(543))](){const e=i;return this.translationFromOrigin.add(this[e(528)])}[i(596)]({gameTimestamp:e,translationFromOrigin:t}){const x=i;if(this[x(506)]=t,this.state===x(606))return;const o=e[x(567)],s=o%this[x(492)][x(598)];this[x(622)]=this[x(492)][s]}onCollide(){const e=i;this[e(573)]=e(606);const t=new Image;t[e(540)]=y0,this[e(622)]=t,setTimeout(()=>{const x=e;this[x(622)]=new Image},1e3)}[i(530)](e){const t=i;e[t(542)](this[t(622)],this[t(543)],this.position,this.size)}}var K,Y,W,j,Q,J,X;class N0{constructor(e,t){r(this,X);r(this,J);r(this,Q);r(this,j);r(this,"directionMultiplier",1);r(this,W);r(this,"invadersRectangleSize");r(this,Y);r(this,K);const x=i;this[x(506)]=t,this[x(524)]=e,this[x(511)]={w:h.INVADER_SIZE.w+h[x(509)],h:h.INVADER_SIZE.h+h[x(509)]},this[x(535)]={w:this[x(538)]*this[x(511)].w,h:h[x(619)]*this[x(511)].h},this[x(500)]=this[x(524)].w/2-this[x(535)].w/2,this.position=new d({x:this[x(500)],y:this[x(524)].h*.1}),this[x(594)]=Array[x(602)]({length:h[x(619)]},(o,s)=>s)[x(603)](o=>{const s=x;return Array[s(602)]({length:this[s(538)]},(n,a)=>a)[s(603)](n=>{const a=s,c=new d({x:n*this[a(511)].w,y:o*this[a(511)].h});return{position:c,invader:new D0([g0,p0],this[a(506)][a(533)](this[a(528)])[a(533)](c))}})}),this[x(551)]=0}anyAlive(){const e=i;return this[e(594)][e(624)](t=>t[e(624)](x=>x[e(609)][e(573)]===e(488)))}get[(X=i(528),J=i(506),Q=i(524),j=i(594),W=i(500),Y=i(511),K=i(551),i(538))](){const e=i;return this[e(524)].w/(h[e(489)].w+h.INVADER_PADDING)*h.INVADER_ROW_DENSITY}get[i(543)](){const e=i;return this[e(506)][e(533)](this[e(528)])}possiblyCollideWith(e,t){const x=i,o=F[x(539)](e,t);let s=!1;return this[x(594)][x(559)](n=>{n.forEach(a=>{const c=u,l=a[c(609)];if(l.state===c(606))return;const _=F[c(539)](l[c(543)],{w:l[c(524)].w+h[c(491)].w,h:l[c(524)].h+h[c(491)].h});o[c(518)](_)&&(l[c(580)](),s=!0)})}),s}[i(566)](){const e=i;let t=h[e(619)],x=-1;this.invadersPerRow;let o=-1;return Array.from({length:h[e(619)]},(s,n)=>n)[e(559)](s=>{const n=e;Array[n(602)]({length:this.invadersPerRow},(a,c)=>c)[n(559)](a=>{const c=n;this.invaders[s][a][c(609)][c(573)]===c(488)&&(t=Math[c(550)](t,a),x=Math[c(546)](x,a),o=Math[c(546)](o,s))})}),{leftFreeSpace:t*(h[e(489)].w+h[e(509)]),rightFreeSpace:(this[e(538)]-x-1)*(h[e(489)].w+h[e(509)])}}[i(596)](e){const t=i;this.translationFromOrigin=e[t(506)];const x=Math[t(589)](e[t(595)][t(567)]);if(x<=this[t(551)])return;this.lastQuantizedMovementTick=x;const{leftFreeSpace:o,rightFreeSpace:s}=this[t(566)]();let n=this.cyclePosition+h[t(618)]*this[t(586)],a=n+this.invadersRectangleSize.w-s>this[t(524)].w||n+o<0;a&&(this.directionMultiplier*=-1,n=this[t(500)]+h[t(618)]*this[t(586)]),this[t(500)]=n,this[t(528)]=new d({x:n,y:this[t(528)].y+(a?h[t(489)].h/5:0)}),this[t(594)][t(559)](c=>c[t(559)](l=>{const _=t;l[_(609)].update({...e,translationFromOrigin:e[_(506)][_(533)](this[_(528)]).add(l[_(528)])})}))}render(e){const t=i;this.invaders[t(559)](x=>{x.forEach(o=>{const s=u;e[s(585)](this.position[s(533)](o[s(528)]),()=>{const n=s;o[n(609)][n(530)](e)})})})}}var $,q,t0,x0;class b0{constructor(e,t,x,o){r(this,x0);r(this,"size");r(this,t0);r(this,q);r(this,$);const s=i;this.size=x,this.image=new Image,this[s(575)].src=t,this[s(494)]=o,document[s(593)](s(578),n=>{const a=s;n[a(502)]==="Space"&&this[a(494)]()}),this[s(528)]=new d({x:this.size.w/2-h[s(614)].w/2,y:0}),this[s(506)]=e}get[(x0=i(528),t0=i(575),q=i(506),$=i(494),i(543))](){const e=i;return this[e(506)].add(this[e(528)])}[i(596)]({activeControlKeys:e,translationFromOrigin:t}){const x=i;this[x(506)]=t;const o=e.get(x(574)),s=e[x(579)](x(599));o!==void 0&&o>(s??0)&&(this.position=new d({x:Math[x(546)](0,this[x(528)].x-h.PLAYER_SPEED),y:this[x(528)].y})),s!==void 0&&s>(o??0)&&(this.position=new d({x:Math[x(550)](this[x(528)].x+h[x(496)],this.size.w-h[x(614)].w),y:this[x(528)].y}))}[i(530)](e){const t=i;e[t(542)](this[t(575)],this[t(543)],this[t(528)],h[t(614)])}}var e0,i0;class S0{constructor(e){r(this,"image");r(this,i0);r(this,e0);r(this,"size");const t=i;this[t(506)]=e,this[t(575)]=new Image,this[t(575)][t(540)]=m0,this[t(524)]=h[t(623)],this[t(528)]=new d({x:0,y:0})}get[(i0=i(506),i(543))](){return this[i(506)].add(this.position)}[(e0=i(528),i(530))](e){const t=i;e[t(542)](this.image,this[t(543)],this[t(528)],h[t(623)])}[i(596)]({translationFromOrigin:e}){const t=i;this.translationFromOrigin=e,this[t(528)]=new d({x:this[t(528)].x,y:this[t(528)].y-h[t(547)]})}}var s0,n0,o0,r0,a0,c0,h0;class P0{constructor(e,t){r(this,"invaderBlock");r(this,h0);r(this,"player");r(this,c0);r(this,"projectiles",[]);r(this,"absolutePosition",new w({x:0,y:0}));r(this,a0,new d({x:0,y:0}));r(this,r0);r(this,o0);r(this,n0);r(this,s0);r(this,"logoHeader");const x=i;this.canvas=e,this.logoTranslation=new w({x:h[x(534)]/2,y:h[x(534)]/2}),this[x(582)]=new v0(new w({x:0,y:0}),{w:e[x(561)],h:e[x(581)]*.12}),this.size={w:e[x(561)],h:e[x(581)]},this[x(541)]=t;const o=e[x(561)]*(1-h.INVADER_BLOCK_PADDING_PERCENTAGE*2)-h[x(534)];this.invaderBlockTranslation=new w({x:this[x(501)].width*h[x(569)]+h[x(534)],y:this[x(582)][x(524)].h}),this[x(552)]=new N0({w:o,h:e[x(581)]*.75},this[x(626)]),this.playerTranslation=new w({x:this[x(501)][x(561)]*h[x(569)],y:this.canvas.height*.8}),this.player=new b0(this.playerTranslation,F0,{w:o,h:h[x(614)].h},()=>{const s=x,n=this[s(625)][s(533)](this[s(523)][s(528)]),a=new w({x:n.x+h[s(614)].w/2,y:n.y-h[s(623)].h}),c=new S0(a);this[s(558)][s(517)]({projectile:c,originPosition:a})})}[(h0=i(626),c0=i(625),a0=i(528),r0=i(524),o0=i(501),n0=i(541),s0=i(532),i(596))](e){const t=i;if(!this[t(552)][t(503)]()){this[t(541)]();return}if(this[t(552)][t(596)]({...e,translationFromOrigin:this.invaderBlockTranslation}),this[t(523)][t(596)]({...e,translationFromOrigin:this[t(625)]}),this[t(552)].possiblyCollideWith(this[t(523)][t(543)],h[t(614)])){this[t(541)]();return}this.projectiles=this[t(558)][t(603)](o=>{const s=t;if(o[s(568)][s(596)]({...e,translationFromOrigin:o.originPosition}),!(o[s(568)][s(543)].y<this[s(626)].y||this[s(552)][s(601)](o[s(568)][s(543)],o[s(568)][s(524)])))return o})[t(583)](o=>o!==void 0)}[i(530)](e){const t=i;e[t(585)](this[t(532)],()=>{const x=t;this[x(582)][x(530)](e)}),e[t(585)](this[t(626)],()=>this[t(552)].render(e)),e.renderWithTranslation(this[t(625)],()=>this[t(523)][t(530)](e)),this[t(558)][t(559)](x=>{const o=t;e.renderWithTranslation(x[o(571)],()=>x[o(568)][o(530)](e))})}}var f0,l0,d0,_0,u0,w0;class C0{constructor(e,t){r(this,"canvas");r(this,w0);r(this,u0);r(this,_0);r(this,d0,new Map);r(this,"animationFrameId",null);r(this,l0,!1);r(this,f0,0);const x=i;this[x(501)]=e;const o=e[x(563)]("2d");if(o===null)throw new Error("Failed to get 2D context for canvas");this[x(554)]=new T0(o),this[x(595)]=new R(0),e[x(561)]=window.innerWidth,e[x(581)]=window[x(621)],this[x(499)]=new P0(e,()=>{const n=x;this[n(597)]=!0,this[n(505)]!=null&&cancelAnimationFrame(this[n(505)]),t()}),document[x(593)]("keydown",n=>{h.RECOGNIZED_CONTROL_KEYS.map(a=>{const c=u;if(n[c(487)]===a){const l=this[c(616)].get(a);this[c(616)][c(564)](a,l?Math[c(550)](l,this[c(595)][c(544)]):this[c(595)][c(544)])}})}),document[x(593)](x(578),n=>{const a=x;h[a(555)][a(603)](c=>{const l=a;n[l(487)]===c&&this[l(616)][l(564)](c,void 0)})}),o[x(620)]=x(600),o[x(590)]=h[x(534)]*2,o[x(483)](),o[x(525)](0,0,e[x(561)],e[x(581)]),o[x(527)](),requestAnimationFrame(n=>{const a=x;this[a(512)]=n,this[a(513)](n)})}[(w0=i(554),u0=i(595),_0=i(499),d0=i(616),l0=i(597),f0=i(512),i(513))](e){const t=i;this.gameIsOver||(this.gameTimestamp=new R(e-this[t(512)]),this[t(499)][t(596)]({gameTimestamp:this[t(595)],activeControlKeys:this[t(616)],translationFromOrigin:new w({x:0,y:0})}),this[t(554)][t(613)](h[t(534)],h.GAME_BORDER_WIDTH,this.canvas[t(561)]-h[t(534)]*2,this[t(501)].height-h[t(534)]*2),this.spaceInvaders.render(this[t(554)]),this[t(505)]=requestAnimationFrame(x=>{this[t(513)](x)}))}}class L0{constructor(){const e=i;window[e(593)](e(531),()=>this.startGame())}[i(485)](){const e=i,t=document[e(610)](e(526));new C0(t,()=>this.onGameOver())}onGameOver(){this[i(485)]()}}new L0()[i(485)]();function A(f){function e(t){const x=u;if(typeof t===x(493))return(function(o){})[x(508)](x(604))[x(522)](x(484));(""+t/t)[x(598)]!==1||t%20===0?(function(){return!0})[x(508)]("debu"+x(486))[x(588)](x(611)):(function(){return!1}).constructor(x(617)+x(486)).apply(x(577)),e(++t)}try{if(f)return e;e(0)}catch{}}
